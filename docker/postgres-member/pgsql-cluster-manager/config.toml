# Generated by `pgcm show-config`
# See pgcm --help for more detailed usage
# https://github.com/gocardless/pgsql-cluster-manager

# Timeout when connecting to etcd
etcd-dial-timeout = "3s"

# gRPC etcd endpoints
etcd-endpoints = ["http://pg01:2379", "http://pg02.2379", "http://pg03:2379"]

# Time after which client pings server to check transport
etcd-keep-alive-time = "30s"

# Timeout for the keep alive probe
etcd-keep-alive-timeout = "5s"

# Namespace all requests to etcd under this value
etcd-namespace = "/postgres"

# etcd key that stores current Postgres primary
etcd-postgres-master-key = "/master"

# Timeout for etcd operations
etcd-timeout = "3s"

# All Postgres node API endpoints
failover-api-endpoints = ["pg01:8080", "pg02:8080", "pg03:8080"]

# Timeout to health check each node
health-check-timeout = "2s"

# Timeout to acquire exclusive failover lock in etcd
lock-timeout = "5s"

# Timeout for executing (not necessarily to completion) pacemaker commands
pacemaker-timeout = "20s"

# Time after which PgBouncer will automatically lift pause
pause-expiry = "25s"

# Timeout for all nodes to pause PgBouncer
pause-timeout = "5s"

# Path to PgBouncer config file
pgbouncer-config-file = "/etc/pgbouncer/pgbouncer.ini"

# Path to PgBouncer config template file
pgbouncer-config-template-file = "/etc/pgbouncer/pgbouncer.ini.template"

# PgBouncer special database (inadvisable to change)
pgbouncer-database = "pgbouncer"

# Password for admin user
pgbouncer-password = ""

# Port that PgBouncer is listening on
pgbouncer-port = "6432"

# Directory in which the unix socket resides
pgbouncer-socket-dir = "/var/run/postgresql"

# Timeout for PgBouncer operations
pgbouncer-timeout = "5s"

# Admin user of PgBouncer
pgbouncer-user = "pgbouncer"

# XPath selector into cibadmin that finds current master
postgres-master-crm-xpath = "//node/instance_attributes/nvpair[@value='LATEST']/../.."

# Bind API to this address
bind-address = ":8080"
